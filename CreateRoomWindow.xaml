<Window x:Class="Zvonilka.CreateRoomWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Создать комнату"
        Width="450"
        Height="550"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource PrimaryBackgroundBrush}"
        Foreground="{StaticResource TextPrimaryBrush}">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Создать новую комнату" FontSize="24" FontWeight="Bold"
                     HorizontalAlignment="Center" Foreground="{StaticResource PrimaryAccentBrush}"/>
            <TextBlock Text="Настройте вашу комнату голосового чата" FontSize="12"
                     HorizontalAlignment="Center" Foreground="{StaticResource TextSecondaryBrush}"/>
        </StackPanel>
        
        <!-- Form -->
        <materialDesign:Card Grid.Row="1" Padding="30">
            <StackPanel>
                <!-- Room Name -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Название комнаты" FontSize="14" FontWeight="Bold"
                             Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding RoomName, UpdateSourceTrigger=PropertyChanged}"
                           materialDesign:HintAssist.Hint="Введите название комнаты..."
                           FontSize="14"/>
                </StackPanel>
                
                <!-- Password -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Пароль (необязательно)" FontSize="14" FontWeight="Bold"
                             Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,5"/>
                    <PasswordBox x:Name="PasswordBox"
                               materialDesign:HintAssist.Hint="Введите пароль..."
                               FontSize="14"/>
                </StackPanel>
                
                <!-- Max Members -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Максимум участников" FontSize="14" FontWeight="Bold"
                             Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,5"/>
                    <Slider Value="{Binding MaxMembers}" Minimum="2" Maximum="50" 
                          TickFrequency="1" IsSnapToTickEnabled="True" Margin="0,0,0,5"/>
                    <TextBlock Text="{Binding MaxMembers, StringFormat='Макс. участников: {0}'}"
                             FontSize="12" Foreground="{StaticResource TextSecondaryBrush}"
                             HorizontalAlignment="Center"/>
                </StackPanel>
                
                <!-- Privacy Settings -->
                <StackPanel Margin="0,0,0,20">
                    <TextBlock Text="Тип комнаты" FontSize="14" FontWeight="Bold"
                             Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10"/>

                    <RadioButton Content="Публичная комната" IsChecked="{Binding IsPublicRoom}"
                               GroupName="RoomType" Margin="0,0,0,10"/>
                    <RadioButton Content="Приватная комната" IsChecked="{Binding IsPrivateRoom}"
                               GroupName="RoomType" Margin="0,0,0,5"/>

                    <TextBlock Text="Приватные комнаты требуют приглашения и не отображаются в публичных списках"
                             FontSize="11" Foreground="{StaticResource TextSecondaryBrush}"
                             TextWrapping="Wrap" Margin="20,0,0,0"/>
                </StackPanel>
                
                <!-- Room Features -->
                <StackPanel>
                    <TextBlock Text="Функции комнаты" FontSize="14" FontWeight="Bold"
                             Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10"/>
                    
                    <CheckBox Content="Включить голосовой чат" IsChecked="{Binding EnableVoice}" Margin="0,0,0,10"/>
                    <CheckBox Content="Включить текстовый чат" IsChecked="{Binding EnableText}" Margin="0,0,0,10"/>
                    <CheckBox Content="Разрешить обмен файлами" IsChecked="{Binding AllowFiles}" Margin="0,0,0,10"/>
                    <CheckBox Content="Модерируемая комната" IsChecked="{Binding IsModerated}" Margin="0,0,0,5"/>
                    
                    <TextBlock Text="Модерируемые комнаты требуют одобрения администратора для новых участников"
                             FontSize="11" Foreground="{StaticResource TextSecondaryBrush}"
                             TextWrapping="Wrap" Margin="20,0,0,0"/>
                </StackPanel>
            </StackPanel>
        </materialDesign:Card>
        
        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Отмена" Style="{StaticResource MaterialDesignOutlinedButton}"
                   Click="CancelButton_Click" Margin="0,0,10,0"/>
            <Button Content="Создать комнату" Style="{StaticResource MaterialDesignRaisedButton}"
                   Click="CreateButton_Click" Command="{Binding CreateCommand}"/>
        </StackPanel>
    </Grid>
</Window>